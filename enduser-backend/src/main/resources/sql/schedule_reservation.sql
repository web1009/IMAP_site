
-- 스케줄 테이블 생성
CREATE TABLE `SCHEDULE` (
    `schd_id`      BIGINT          NOT NULL AUTO_INCREMENT,
    `prog_id`      BIGINT          NOT NULL COMMENT '프로그램 ID',
    `user_id`      VARCHAR(50)     NOT NULL COMMENT '담당 강사 ID',
    `brch_id`      BIGINT          NOT NULL COMMENT '지점 ID',
    `strt_dt`      DATE            NOT NULL COMMENT '수업 날짜',
    `strt_tm`      TIME            NOT NULL COMMENT '시작 시간',
    `end_tm`       TIME            NOT NULL COMMENT '종료 시간',
    `max_nop_cnt`  INT             NOT NULL COMMENT '최대 정원',
    `rsv_cnt`      INT             NOT NULL DEFAULT 0 COMMENT '현재 예약 인원',
    `stts_cd`      VARCHAR(20)     NOT NULL COMMENT '상태(AVAILABLE, FULL, CANCELED 등)',
    `description`  TEXT            NULL     COMMENT '스케줄 설명',
    `reg_dt`       DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `upd_dt`       DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    PRIMARY KEY (`schd_id`),
    
    -- 인덱스 설정
    INDEX `idx_schd_strtdt` (`strt_dt`),
    INDEX `idx_schd_sttscd` (`stts_cd`),
    INDEX `idx_schd_brch_prog` (`brch_id`, `prog_id`),
    
    -- 외래 키 설정
    CONSTRAINT `fk_schd_prog` FOREIGN KEY (`prog_id`) REFERENCES `PROGRAM` (`prog_id`),
    CONSTRAINT `fk_schd_user` FOREIGN KEY (`user_id`) REFERENCES `USERS_ADMIN` (`user_id`),
    CONSTRAINT `fk_schd_brch` FOREIGN KEY (`brch_id`) REFERENCES `BRANCH` (`brch_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 스케줄 예시 데이터
-- 2026-01-01 ~ 2026-01-20 기간의 데이터
INSERT INTO SCHEDULE 
(prog_id, user_id, brch_id, strt_dt, strt_tm, end_tm, max_nop_cnt, rsv_cnt, stts_cd, description, reg_dt, upd_dt) 
VALUES
-- [수원 지점 - brch_id: 1]
(1, 'instructor_su_01', 1, '2026-01-01', '09:00:00', '10:00:00', 10, 10, 'CLOSED', '신년 특강 종료', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(2, 'instructor_su_02', 1, '2026-01-01', '14:00:00', '15:00:00', 8, 8, 'CLOSED', '필라테스 리포머', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(3, 'instructor_su_01', 1, '2026-01-02', '10:00:00', '11:00:00', 15, 15, 'CLOSED', '요가 릴렉스', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(41, 'instructor_su_03', 1, '2026-01-02', '07:00:00', '08:00:00', 12, 12, 'CLOSED', '아침 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(1, 'instructor_su_01', 1, '2026-01-03', '09:00:00', '10:00:00', 10, 10, 'CLOSED', '웨이트 기초', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(2, 'instructor_su_02', 1, '2026-01-04', '10:00:00', '11:00:00', 8, 8, 'CLOSED', '필라테스 리포머', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(3, 'instructor_su_01', 1, '2026-01-05', '14:00:00', '15:00:00', 15, 10, 'AVAILABLE', '요가 릴렉스', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(42, 'instructor_su_03', 1, '2026-01-05', '19:00:00', '20:00:00', 20, 15, 'AVAILABLE', '저녁 힐링 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(1, 'instructor_su_01', 1, '2026-01-06', '09:00:00', '10:00:00', 10, 0, 'AVAILABLE', '웨이트 기초', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(1, 'instructor_su_01', 1, '2026-01-07', '09:00:00', '10:00:00', 10, 2, 'AVAILABLE', '웨이트 기초', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(1, 'instructor_su_01', 1, '2026-01-08', '09:00:00', '10:00:00', 10, 5, 'AVAILABLE', '웨이트 기초', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(2, 'instructor_su_02', 1, '2026-01-06', '11:00:00', '12:00:00', 8, 0, 'AVAILABLE', '리포머 중급', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(2, 'instructor_su_02', 1, '2026-01-08', '11:00:00', '12:00:00', 8, 3, 'AVAILABLE', '리포머 중급', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(2, 'instructor_su_02', 1, '2026-01-10', '11:00:00', '12:00:00', 8, 8, 'CLOSED', '리포머 중급 마감', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(3, 'instructor_su_01', 1, '2026-01-11', '14:00:00', '15:00:00', 15, 1, 'AVAILABLE', '요가 명상', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(3, 'instructor_su_01', 1, '2026-01-13', '14:00:00', '15:00:00', 15, 0, 'AVAILABLE', '요가 명상', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(3, 'instructor_su_01', 1, '2026-01-15', '14:00:00', '15:00:00', 15, 0, 'AVAILABLE', '요가 명상', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(41, 'instructor_su_03', 1, '2026-01-12', '07:00:00', '08:00:00', 12, 5, 'AVAILABLE', '아침 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(41, 'instructor_su_03', 1, '2026-01-14', '07:00:00', '08:00:00', 12, 12, 'CLOSED', '아침 요가 마감', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(42, 'instructor_su_03', 1, '2026-01-16', '19:00:00', '20:00:00', 20, 0, 'AVAILABLE', '저녁 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(42, 'instructor_su_03', 1, '2026-01-18', '19:00:00', '20:00:00', 20, 2, 'AVAILABLE', '저녁 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(42, 'instructor_su_03', 1, '2026-01-20', '19:00:00', '20:00:00', 20, 0, 'AVAILABLE', '저녁 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(1, 'instructor_su_01', 1, '2026-01-10', '09:00:00', '10:00:00', 10, 0, 'AVAILABLE', '웨이트 기초', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(1, 'instructor_su_01', 1, '2026-01-12', '09:00:00', '10:00:00', 10, 0, 'AVAILABLE', '웨이트 기초', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(1, 'instructor_su_01', 1, '2026-01-14', '09:00:00', '10:00:00', 10, 0, 'AVAILABLE', '웨이트 기초', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),

-- [동탄 지점 - brch_id: 2]
(11, 'instructor_dt_01', 2, '2026-01-01', '10:00:00', '11:00:00', 20, 20, 'CLOSED', '부트캠프 종료', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(12, 'instructor_dt_01', 2, '2026-01-02', '14:00:00', '15:00:00', 15, 15, 'CLOSED', '맨즈 요가 종료', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(13, 'instructor_dt_02', 2, '2026-01-03', '11:00:00', '12:00:00', 10, 10, 'CLOSED', '필라테스 종료', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(46, 'instructor_dt_03', 2, '2026-01-04', '19:00:00', '20:00:00', 15, 15, 'CLOSED', '자세 교정 종료', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(11, 'instructor_dt_01', 2, '2026-01-06', '10:00:00', '11:00:00', 20, 5, 'AVAILABLE', '부트캠프', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(11, 'instructor_dt_01', 2, '2026-01-08', '10:00:00', '11:00:00', 20, 2, 'AVAILABLE', '부트캠프', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(11, 'instructor_dt_01', 2, '2026-01-10', '10:00:00', '11:00:00', 20, 0, 'AVAILABLE', '부트캠프', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(11, 'instructor_dt_01', 2, '2026-01-12', '10:00:00', '11:00:00', 20, 0, 'AVAILABLE', '부트캠프', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(11, 'instructor_dt_01', 2, '2026-01-14', '10:00:00', '11:00:00', 20, 0, 'AVAILABLE', '부트캠프', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(11, 'instructor_dt_01', 2, '2026-01-16', '10:00:00', '11:00:00', 20, 0, 'AVAILABLE', '부트캠프', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(11, 'instructor_dt_01', 2, '2026-01-18', '10:00:00', '11:00:00', 20, 0, 'AVAILABLE', '부트캠프', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(11, 'instructor_dt_01', 2, '2026-01-20', '10:00:00', '11:00:00', 20, 0, 'AVAILABLE', '부트캠프', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(13, 'instructor_dt_02', 2, '2026-01-07', '11:00:00', '12:00:00', 10, 10, 'CLOSED', '필라테스 마감', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(13, 'instructor_dt_02', 2, '2026-01-09', '11:00:00', '12:00:00', 10, 0, 'AVAILABLE', '필라테스', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(13, 'instructor_dt_02', 2, '2026-01-11', '11:00:00', '12:00:00', 10, 0, 'AVAILABLE', '필라테스', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(13, 'instructor_dt_02', 2, '2026-01-13', '11:00:00', '12:00:00', 10, 2, 'AVAILABLE', '필라테스', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(13, 'instructor_dt_02', 2, '2026-01-15', '11:00:00', '12:00:00', 10, 0, 'AVAILABLE', '필라테스', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(13, 'instructor_dt_02', 2, '2026-01-17', '11:00:00', '12:00:00', 10, 0, 'AVAILABLE', '필라테스', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(13, 'instructor_dt_02', 2, '2026-01-19', '11:00:00', '12:00:00', 10, 0, 'AVAILABLE', '필라테스', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(46, 'instructor_dt_03', 2, '2026-01-06', '19:00:00', '20:00:00', 15, 0, 'AVAILABLE', '자세 교정', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(46, 'instructor_dt_03', 2, '2026-01-08', '19:00:00', '20:00:00', 15, 0, 'AVAILABLE', '자세 교정', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(46, 'instructor_dt_03', 2, '2026-01-10', '19:00:00', '20:00:00', 15, 10, 'AVAILABLE', '자세 교정', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(46, 'instructor_dt_03', 2, '2026-01-12', '19:00:00', '20:00:00', 15, 0, 'AVAILABLE', '자세 교정', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(46, 'instructor_dt_03', 2, '2026-01-14', '19:00:00', '20:00:00', 15, 0, 'AVAILABLE', '자세 교정', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),

-- [합정 지점 - brch_id: 3]
(21, 'instructor_hj_01', 3, '2026-01-01', '14:00:00', '15:00:00', 10, 10, 'CLOSED', '키즈 요가 종료', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(22, 'instructor_hj_01', 3, '2026-01-02', '10:00:00', '11:00:00', 12, 12, 'CLOSED', '시니어 요가 종료', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(23, 'instructor_hj_02', 3, '2026-01-03', '15:00:00', '16:00:00', 8, 8, 'CLOSED', '임산부 필라테스', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(24, 'instructor_hj_02', 3, '2026-01-04', '20:00:00', '21:00:00', 15, 15, 'CLOSED', '복싱 종료', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(21, 'instructor_hj_01', 3, '2026-01-06', '14:00:00', '15:00:00', 10, 0, 'AVAILABLE', '키즈 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(21, 'instructor_hj_01', 3, '2026-01-08', '14:00:00', '15:00:00', 10, 1, 'AVAILABLE', '키즈 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(21, 'instructor_hj_01', 3, '2026-01-10', '14:00:00', '15:00:00', 10, 0, 'AVAILABLE', '키즈 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(21, 'instructor_hj_01', 3, '2026-01-12', '14:00:00', '15:00:00', 10, 0, 'AVAILABLE', '키즈 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(21, 'instructor_hj_01', 3, '2026-01-14', '14:00:00', '15:00:00', 10, 0, 'AVAILABLE', '키즈 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(21, 'instructor_hj_01', 3, '2026-01-16', '14:00:00', '15:00:00', 10, 0, 'AVAILABLE', '키즈 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(23, 'instructor_hj_02', 3, '2026-01-07', '15:00:00', '16:00:00', 8, 8, 'CLOSED', '임산부 필라 마감', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(23, 'instructor_hj_02', 3, '2026-01-09', '15:00:00', '16:00:00', 8, 0, 'AVAILABLE', '임산부 필라테스', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(23, 'instructor_hj_02', 3, '2026-01-11', '15:00:00', '16:00:00', 8, 0, 'AVAILABLE', '임산부 필라테스', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(23, 'instructor_hj_02', 3, '2026-01-13', '15:00:00', '16:00:00', 8, 2, 'AVAILABLE', '임산부 필라테스', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(23, 'instructor_hj_02', 3, '2026-01-15', '15:00:00', '16:00:00', 8, 0, 'AVAILABLE', '임산부 필라테스', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(24, 'instructor_hj_02', 3, '2026-01-07', '20:00:00', '21:00:00', 15, 0, 'AVAILABLE', '복싱 다이어트', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(24, 'instructor_hj_02', 3, '2026-01-09', '20:00:00', '21:00:00', 15, 5, 'AVAILABLE', '복싱 다이어트', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(24, 'instructor_hj_02', 3, '2026-01-11', '20:00:00', '21:00:00', 15, 0, 'AVAILABLE', '복싱 다이어트', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(24, 'instructor_hj_02', 3, '2026-01-13', '20:00:00', '21:00:00', 15, 0, 'AVAILABLE', '복싱 다이어트', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(24, 'instructor_hj_02', 3, '2026-01-15', '20:00:00', '21:00:00', 15, 10, 'AVAILABLE', '복싱 다이어트', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(24, 'instructor_hj_02', 3, '2026-01-17', '20:00:00', '21:00:00', 15, 0, 'AVAILABLE', '복싱 다이어트', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(24, 'instructor_hj_02', 3, '2026-01-19', '20:00:00', '21:00:00', 15, 0, 'AVAILABLE', '복싱 다이어트', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(22, 'instructor_hj_01', 3, '2026-01-10', '10:00:00', '11:00:00', 12, 0, 'AVAILABLE', '시니어 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(22, 'instructor_hj_01', 3, '2026-01-15', '10:00:00', '11:00:00', 12, 0, 'AVAILABLE', '시니어 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(22, 'instructor_hj_01', 3, '2026-01-20', '10:00:00', '11:00:00', 12, 0, 'AVAILABLE', '시니어 요가', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),

-- [청담 지점 - brch_id: 4]
(31, 'instructor_cd_01', 4, '2026-01-05', '18:00:00', '19:00:00', 5, 5, 'CLOSED', '필라테스 마감', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(31, 'instructor_cd_01', 4, '2026-01-06', '18:00:00', '19:00:00', 5, 0, 'AVAILABLE', '필라테스 교정', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(31, 'instructor_cd_01', 4, '2026-01-07', '18:00:00', '19:00:00', 5, 0, 'AVAILABLE', '필라테스 교정', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(31, 'instructor_cd_01', 4, '2026-01-08', '18:00:00', '19:00:00', 5, 2, 'AVAILABLE', '필라테스 교정', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(31, 'instructor_cd_01', 4, '2026-01-09', '18:00:00', '19:00:00', 5, 0, 'AVAILABLE', '필라테스 교정', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(31, 'instructor_cd_01', 4, '2026-01-10', '18:00:00', '19:00:00', 5, 5, 'CLOSED', '필라테스 마감', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(34, 'instructor_cd_02', 4, '2026-01-06', '14:00:00', '15:00:00', 10, 0, 'AVAILABLE', '그룹 PT 중급', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(34, 'instructor_cd_02', 4, '2026-01-08', '14:00:00', '15:00:00', 10, 5, 'AVAILABLE', '그룹 PT 중급', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(34, 'instructor_cd_02', 4, '2026-01-10', '14:00:00', '15:00:00', 10, 0, 'AVAILABLE', '그룹 PT 중급', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(34, 'instructor_cd_02', 4, '2026-01-12', '14:00:00', '15:00:00', 10, 10, 'CLOSED', '그룹 PT 마감', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(34, 'instructor_cd_02', 4, '2026-01-14', '14:00:00', '15:00:00', 10, 0, 'AVAILABLE', '그룹 PT 중급', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(35, 'instructor_cd_02', 4, '2026-01-05', '09:00:00', '10:00:00', 1, 1, 'CLOSED', '개인 PT 예약완료', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(35, 'instructor_cd_02', 4, '2026-01-07', '09:00:00', '10:00:00', 1, 0, 'AVAILABLE', '개인 PT 신청가능', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(35, 'instructor_cd_02', 4, '2026-01-09', '09:00:00', '10:00:00', 1, 0, 'AVAILABLE', '개인 PT 신청가능', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(35, 'instructor_cd_02', 4, '2026-01-11', '09:00:00', '10:00:00', 1, 0, 'AVAILABLE', '개인 PT 신청가능', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(37, 'instructor_cd_03', 4, '2026-01-06', '10:00:00', '11:00:00', 20, 10, 'AVAILABLE', '수영 강습', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(37, 'instructor_cd_03', 4, '2026-01-08', '10:00:00', '11:00:00', 20, 5, 'AVAILABLE', '수영 강습', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(37, 'instructor_cd_03', 4, '2026-01-10', '10:00:00', '11:00:00', 20, 0, 'AVAILABLE', '수영 강습', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(37, 'instructor_cd_03', 4, '2026-01-12', '10:00:00', '11:00:00', 20, 20, 'CLOSED', '수영 강습 마감', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(37, 'instructor_cd_03', 4, '2026-01-14', '10:00:00', '11:00:00', 20, 0, 'AVAILABLE', '수영 강습', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

